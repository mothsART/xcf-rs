use xcf_rs::create::rle_compress;

#[test]
fn rle_compression_four_pixels() {
    assert_eq!(
        rle_compress(&vec!(222, 36, 36, 222)),
        vec!(252, 222, 36, 36, 222)
    );
    assert_eq!(
        rle_compress(&vec!(158, 0, 255, 43)),
        vec!(252, 158, 0, 255, 43)
    );
    assert_eq!(
        rle_compress(&vec!(0, 158, 5, 34)),
        vec!(252, 0, 158, 5, 34)
    );
    assert_eq!(
        rle_compress(&vec!(0, 0, 114, 121)),
        vec!(1, 0, 254, 114, 121)
    );
    assert_eq!(
        rle_compress(&vec![183, 209, 209]),
        vec![253, 183, 209, 209]
    );
}

#[test]
fn rle_compression_nine_pixels() {
    assert_eq!(
        rle_compress(&vec!(222, 36, 36, 222, 36, 48, 0, 219, 0)),
        vec!(247, 222, 36, 36, 222, 36, 48, 0, 219, 0)
    );
}

#[test]
fn rle_compression_9x3_pixels() {
    assert_eq!(
        rle_compress(&vec![
                  158, 130, 222, 158, 130, 222, 158, 130, 222, 36, 222, 5, 36, 222, 5, 36, 222, 5, 0, 136, 248, 0, 136, 248, 0, 136, 248]),
        vec![229, 158, 130, 222, 158, 130, 222, 158, 130, 222, 36, 222, 5, 36, 222, 5, 36, 222, 5, 0, 136, 248, 0, 136, 248, 0, 136, 248]
    );
}

#[test]
fn rle_compression_9x9_pixels() {
    assert_eq!(
        rle_compress(&vec![
            158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248
        ]),
        vec![175, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248]
    );
}

#[test]
fn rle_compression_9x15_pixels() {
    assert_eq!(
        rle_compress(&vec![
            158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248
        ]),
        vec![128, 0, 135, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248, 158, 130, 222, 36, 222, 5, 0, 136, 248]
    );
}

#[test]
fn rle_compression_9x15_same_pixels() {
    assert_eq!(
        rle_compress(&vec![
            54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54, 54
        ]),
        vec![127, 0, 135, 54]
    );
}

#[test]
fn rle_compression_9x1_same_pixels() {
    assert_eq!(
        rle_compress(&vec![
            36, 36, 36, 36, 36, 36, 36, 36, 36
        ]),
        vec![08, 36]
    );
}
